<!DOCTYPE html>

<head>
  <title>Chat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="/img/favicon.png">
  <link rel="stylesheet" href="css/styles.css">
  <script src="/js/lib/qs.min.js"></script>
  <script src="/js/lib/utils.js"></script>
</head>

<body>
  <div class="chat">
    <div id="sidebar" class="chat__sidebar chat__sidebar__hidden_mobile">

    </div>

    <div class="chat__main">
      <div id="messages" class="chat__messages"></div>

      <div class="compose compose_mobile_view">
        <p id="msgDisplay"></p>
        <button id="send-file" style="margin-right: 12px;">File</button>
        <form id="sendForm">
          <input type="text" id="textMsg" name="textMsg" required autocomplete="off" placeholder="Message">
          <button type="submit" id="send">Send</button>
        </form>
      </div>

    </div>
  </div>

  <script id="message-left-template" type="text/html">
      <div class="message">
        <p>
          <span class="message__name">\{{sender}}</span>
          <span class="message__meta">\{{createdAt}}</span>
        </p>
        <p>\{{message}}\{{{msgHtml}}}</p>
      </div>
    </script>

  <script id="message-right-template" type="text/html">
    <div class="message" style="text-align: right;">
      <p>
        <span class="message__meta">\{{createdAt}}</span>
        <span class="message__name" style="margin-right: 0;">\{{sender}}</span>
      </p>
      <p>\{{message}}\{{{msgHtml}}}</p>
    </div>
  </script>

  <script id="sidebar-template" type="text/html">
    <h2 class="room-title">\{{roomId}}</h2>
    <h3 class="list-title">Users</h3>
    <ul class="users">
      \{{#users}}
        <li>
          \{{displayName}}
          \{{^isOnline}}
              (Offline)
          \{{/isOnline}}
        </li>
      \{{/users}}
    </ul>
  </script>

  <form>
    <input type="hidden" name="username" id="connectionInfo__username" value="{{username}}">
    <input type="hidden" name="roomId" id="connectionInfo__roomId" value="{{roomId}}">
    <input type="hidden" name="roomPassword" id="connectionInfo__roomPassword" value="{{roomPassword}}">
    <input type="hidden" name="token" id="connectionInfo__token" value="{{token}}">
    <input type="hidden" name="token" id="connectionInfo__maxFileSize" value="{{maxFileSize}}">
  </form>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/lib/mustache.min.js"></script>
  <script src="/js/lib/moment.min.js"></script>
  <script src="/js/chat.js"></script>
</body>